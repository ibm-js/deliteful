<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" 
		content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<title>Filtered EdgeToEdgeStoreList - prog</title>

	<!-- This test shows a dui/mobile/EdgeToEdgeStoreList filtered using dui/mobile/FilteredListMixin. -->
	<!-- Use-case: programmatic; without customization of filtering criteria. -->
	
	<script type="text/javascript" src="../deviceTheme.js" data-dojo-config="duiThemeFiles: ['base', 'SearchBox']"></script>
	<script type="text/javascript" src="../../../dojo/dojo.js"
		data-dojo-config="async: true"></script>

	<script type="text/javascript">
		require([
			"dojo/_base/declare",
			"dojo/domReady",
			"dui/registry",
			"dojo/when",
			"dojo/parser",
			"dojo/store/Memory",
			"dui/mobile/EdgeToEdgeStoreList",
			"dui/mobile/FilteredListMixin",
			"dui/mobile/SearchBox",
			"dui/mobile/ScrollableView",
			"dui/mobile/Heading",
			"dui/mobile/View",
			"dui/mobile/compat"
		], function(declare, ready, registry, when, parser, Memory, EdgeToEdgeStoreList, FilteredListMixin){
			var static_data = { 
				items: [ 
					{label: "Alabama"},
					{label: "Alaska"},
					{label: "American Samoa"},
					{label: "Arizona"},
					{label: "Arkansas"},
					{label: "Armed Forces Europe"},
					{label: "Armed Forces Pacific"},
					{label: "Armed Forces the Americas"},
					{label: "California"},
					{label: "Colorado"},
					{label: "Connecticut"},
					{label: "Delaware"},
					{label: "District of Columbia"},
					{label: "Federated States of Micronesia"},
					{label: "Florida"},
					{label: "Georgia"},
					{label: "Guam"},
					{label: "Hawaii"},
					{label: "Idaho"},
					{label: "Illinois"},
					{label: "Indiana"},
					{label: "Iowa"},
					{label: "Kansas"},
					{label: "Kentucky"},
					{label: "Louisiana"},
					{label: "Maine"},
					{label: "Marshall Islands"},
					{label: "Maryland"},
					{label: "Massachusetts"},
					{label: "Michigan"},
					{label: "Minnesota"},
					{label: "Mississippi"},
					{label: "Missouri"},
					{label: "Montana"},
					{label: "Nebraska"},
					{label: "Nevada"},
					{label: "New Hampshire"},
					{label: "New Jersey"},
					{label: "New Mexico"},
					{label: "New York"},
					{label: "North Carolina"},
					{label: "North Dakota"},
					{label: "Northern Mariana Islands"},
					{label: "Ohio"},
					{label: "Oklahoma"},
					{label: "Oregon"},
					{label: "Pennsylvania"},
					{label: "Puerto Rico"},
					{label: "Rhode Island"},
					{label: "South Carolina"},
					{label: "South Dakota"},
					{label: "Tennessee"},
					{label: "Texas"},
					{label: "Utah"},
					{label: "Vermont"},
					{label: "Virgin Islands, U.S."},
					{label: "Virginia"},
					{label: "Washington"},
					{label: "West Virginia"},
					{label: "Wisconsin"},
					{label: "Wyoming"}
				]
			};
			
			// store for the dui/mobile/EdgeToEdgeStoreList
			var store = new Memory({idProperty:"label", data: static_data});
		    
			ready(function(){
				when(parser.parse(), function(){
					var view = registry.byId("scrollableView");
				
					var listWidget =
						new declare([EdgeToEdgeStoreList, FilteredListMixin])(
							{filterBoxRef: 'filterBox', placeHolder: 'Search', store: store});
				
					listWidget.placeAt(view.containerNode);
					listWidget.startup();
				});
			});
		});
	</script>
</head>
<body style="visibility:hidden;">
	<div data-dojo-type="dui/mobile/View">
		<h1 data-dojo-type="dui/mobile/Heading" data-dojo-props="fixed: 'top'">Filtered EdgeToEdgeStoreList</h1>
		<input data-dojo-type="dui/mobile/SearchBox" type="search" id="filterBox"
			class="duiFilteredEdgeToEdgeListSearchBox">
		<div id="scrollableView" data-dojo-type="dui/mobile/ScrollableView"></div>
	</div>
</body>
</html>
