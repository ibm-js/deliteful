<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport"
		  content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>

	<title>deliteful/Combobox (programmatic)</title>

	<link rel="stylesheet" href="../../../delite/themes/defaultapp.css">
	
	<!-- For testing purposes. Real applications should load the AMD loader directly -->
	<script type="text/javascript" src="../boilerplate.js"></script>
	
	<script type="text/javascript">
		require([
			"dstore/Memory",
			"delite/register",
			"deliteful/Combobox",
			"deliteful/list/List",
			"delite/theme!delite/themes/{{theme}}/global.css", // page level CSS
			"requirejs-domready/domReady!"
		], function (Memory, register, Combobox, List) {
			register.parse();
			
			var dataStore = new Memory(
				{idProperty: "label", 
				data: [
					{ label: "France", sales: 500, profit: 50, region: "EU" },
					{ label: "Germany", sales: 450, profit: 48, region: "EU" },
					{ label: "UK", sales: 700, profit: 60, region: "EU" },
					{ label: "USA", sales: 2000, profit: 250, region: "America" },
					{ label: "Canada", sales: 600, profit: 30, region: "America" },
					{ label: "Brazil", sales: 450, profit: 30, region: "America" },
					{ label: "China", sales: 500, profit: 40, region: "Asia" },
					{ label: "Japan", sales: 900, profit: 100, region: "Asia" }
			]});
			
			var list = new List({store: dataStore, righttextAttr: "sales", categoryAttr: "region"});
			var combobox = new Combobox({list: list}).placeAt("combo-single", "replace");
			// default selectionMode: "single"
			combo1 = combobox; // for debug
			combobox.startup();
			
			list = new List({store: dataStore, righttextAttr: "sales", categoryAttr: "region"});
			combo2 = combobox; // for debug
			combobox = new Combobox({autoFilter: true, list: list}).
				placeAt("combo-single-autoFilter", "replace");
			combo2 = combobox; // for debug
			// default selectionMode: "single"
			combobox.startup();

			list = new List({store: dataStore, righttextAttr: "sales", categoryAttr: "region"});
			combo3 = combobox; // for debug
			combobox = new Combobox({list: list, selectionMode: "multiple"}).
				placeAt("combo-multiple", "replace");
			combo3 = combobox; // for debug
			combobox.startup();
			
			// Now the same but disabled
			// 
			list = new List({store: dataStore, righttextAttr: "sales", categoryAttr: "region"});
			var combobox = new Combobox({list: list, disabled: true}).
				placeAt("combo-single-disabled", "replace");
			// default selectionMode: "single"
			combo4 = combobox; // for debug
			combobox.startup();
			
			list = new List({store: dataStore, righttextAttr: "sales", categoryAttr: "region"});
			combobox = new Combobox({autoFilter: true, list: list, disabled: true}).
				placeAt("combo-single-autoFilter-disabled", "replace");
			// default selectionMode: "single"
			combo5 = combobox; // for debug
			combobox.startup();
			
			list = new List({store: dataStore, righttextAttr: "sales", categoryAttr: "region"});
			combobox = new Combobox({list: list, selectionMode: "multiple", disabled: true}).
				placeAt("combo-multiple-disabled", "replace");
			combo6 = combobox; // for debug
			combobox.startup();
			
			// Using the default instance of List created by Combobox
			combobox = new Combobox();
			combo7 = combobox; // for debug
			combobox.list.store = dataStore;
			combobox.placeAt("combo-single-default-list", "replace");
			combobox.startup();
		});
	</script>
	<style>
		/* Larger margins between the elements inside the list elements */
		.d-list-item-label {
			margin-right: 30px;
		}
		.d-list-item-right-text {
			margin-left: 30px;
		}
	</style>
</head>
<body>
	<p>
	Combobox <b>programmatically</b>.
	</p>
	<p>
	selectionMode: "single", autoFilter: false
	</p>
	<span id="combo-single"></span>
	<p>
	selectionMode: "single", autoFilter: true
	</p>
	<span id="combo-single-autoFilter"></span>
	<p>
	selectionMode: "multiple"
	</p>
	<span id="combo-multiple"></span>
	
	<p>
	selectionMode: "single", autoFilter: false, disabled
	</p>
	<span id="combo-single-disabled"></span>
	<p>
	selectionMode: "single", autoFilter: true, disabled
	</p>
	<span id="combo-single-autoFilter-disabled"></span>
	<p>
	selectionMode: "multiple", disabled
	</p>
	<span id="combo-multiple-disabled"></span>
	
	<p>
	selectionMode: "single", autoFilter: false, default List (created by Combobox)
	</p>
	<span id="combo-single-default-list"></span>
</body>
</html>
