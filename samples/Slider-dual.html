<!DOCTYPE HTML>
<html>
<head>
	<meta name="viewport"
		  content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>

	<title>Slider sample (dual values)</title>

	<script type="text/javascript" src="../../requirejs/require.js"></script>

	<script type="text/javascript">
		require.config({
			config: { "dojo/has": { bidi: true } },
			baseUrl: "../.."
		});
	</script>

	<script type="text/javascript">
		require([
			"delite/register",
			"deliteful/Slider",
			"dojo/domReady!"
		], function (register) {
			register.parse();
			var slider = document.getElementById('singleSlider');

			//very basic tooltip to track value changes
			var tooltip = document.createElement('tooltip');
			tooltip.id = "tooltip";
			slider.progressBar.appendChild(tooltip);

			var onInputValue = document.getElementById('msgArea_0');
			var onChangeValue = document.getElementById('msgArea_1');
			var submittedValue = document.getElementById('msgArea_2');
			var sliderMin = document.getElementById('sliderMin');
			var sliderMax = document.getElementById('sliderMax');

			sliderMin.innerHTML = slider.min;
			sliderMax.innerHTML = slider.max;
			tooltip.innerHTML = slider.value;

			//slider change event
			slider.addEventListener("change", function (e) {
				tooltip.innerHTML = this.value;
				onChangeValue.innerHTML = this.value;
				onChangeValue.style.color = "red";
				window.setTimeout( function () {
					onChangeValue.style.color = "inherit";
				}, 500);
			});

			//slider input event
			slider.addEventListener("input", function (e) {
				tooltip.innerHTML = this.value;
				onInputValue.innerHTML = this.value;
			});

			//on form submit
			document.getElementById("form").addEventListener("submit", function (e) {
				submittedValue.innerHTML = slider.value;
				e.preventDefault();// prevents page reload
				return false;
			});

			//on form reset
			document.getElementById("form").addEventListener("reset", function (e) {
				onInputValue.innerHTML = "";
				onChangeValue.innerHTML = "";
				submittedValue.innerHTML = "";
			});
		});
	</script>

	<style>
		#tooltip {
			background-color: lightyellow;
			color: #000000;
			width: 50px;
			border: solid 1px;
			text-align: center;
			top: -35px;
			left: 80%;
			position: absolute;
		}
		.d-slider {
			width: 70%;
		}
	</style>

</head>
<body>
<p><strong>Slider sample</strong></p>

<p>Select and move the handle or use the arrow/end or up keys.</p>
<hr>
<div id="tooltip">Value</div>
<form id="form">
	<span id="sliderMin"></span>
	<d-slider id="singleSlider" min=0 max=50 value="5,10" step="5"></d-slider>
	<span id="sliderMax"></span>
	<br>
	<button type="submit" value="Submit">Submit</button>
	<button type="reset" value="Reset">Reset</button>
</form>
<hr>
On input event: <span id="msgArea_0"></span>
<br>
On change event: <span id="msgArea_1"></span>
<br>
Submitted value: <span id="msgArea_2"></span>
<hr>
</body>
</html>
